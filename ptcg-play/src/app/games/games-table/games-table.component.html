<div class="ptcg-games-table">

  <h3 translate>GAMES_ACTIVE_GAMES</h3>

  <ptcg-content>
    <!-- Games Grid -->
    <div class="games-grid">
      <div class="game-card" *ngFor="let row of games$ | async; let i = index">

        <!-- Game Header -->
        <div class="game-card-header">
          <div class="game-id">
            <span class="id-label">GAME</span>
            <span class="id-value">#{{ row.game.gameId }}</span>
          </div>
          <div class="game-status">
            <span class="status-text">ACTIVE</span>
          </div>
        </div>

        <!-- Players Section -->
        <div class="players-section">
          <!-- Player 1 -->
          <div class="player-card">
            <div class="player-avatar">
              <ptcg-user-bar openUserPopup="true" *ngIf="row.users[0]" [user]="row.users[0]" class="user-bar">
              </ptcg-user-bar>
            </div>
            <div class="player-info">
              <div class="player-name">{{ row.users[0]?.name || 'Unknown Player' }}</div>
              <div class="player-details">
                <span class="player-prizes">{{ row.game.players[0]?.prizes || 0 }} Prizes</span>
              </div>
            </div>
          </div>

          <!-- VS Divider -->
          <div class="vs-divider">
            <div class="vs-line"></div>
            <div class="vs-text">VS</div>
            <div class="vs-line"></div>
          </div>

          <!-- Player 2 -->
          <div class="player-card">
            <div class="player-info">
              <div class="player-name">{{ row.users[1]?.name || 'Unknown Player' }}</div>
              <div class="player-details">
                <span class="player-prizes">{{ row.game.players[1]?.prizes || 0 }} Prizes</span>
              </div>
            </div>
            <div class="player-avatar">
              <ptcg-user-bar openUserPopup="true" *ngIf="row.users[1]" [user]="row.users[1]" class="user-bar">
              </ptcg-user-bar>
            </div>
          </div>
        </div>

        <!-- Game Info -->
        <div class="game-info">
          <div class="info-item">
            <span class="info-label">TURN</span>
            <span class="info-value">{{ row.game.turn }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">PRIZES</span>
            <span class="info-value">{{ row.game.players[0]?.prizes || 0 }} : {{ row.game.players[1]?.prizes || 0
              }}</span>
          </div>
        </div>

        <!-- Game Actions -->
        <div class="game-actions">
          <ptcg-game-actions [game]="row.game"></ptcg-game-actions>
        </div>
      </div>
    </div>


  </ptcg-content>

</div>