<div class="register-container" [class.is-loading]="loading">
  <div class="back-button" (click)="goToLogin()">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5M12 19l-7-7 7-7" />
    </svg>
  </div>

  <div *ngIf="loading" class="loading-spinner" [@fadeInOut]>
    <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
      <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
    </svg>
  </div>

  <ng-container *ngIf="!loading">
    <div class="logo" [@slideFadeIn]>
      <img src="assets/tl-open-beta.webp" alt="Logo" (load)="onLogoLoad()" (error)="onLogoError()"
        [style.opacity]="logoLoaded ? '1' : '0'" [style.transition]="'opacity 0.3s ease'">
    </div>

    <div class="register-form-container" [@formFadeIn]>
      <twinleaf-form [fields]="registerFormFields" [submitText]="'REGISTER_BUTTON' | translate" [loading]="loading"
        [disabled]="loading" formStyle="default" (formSubmit)="onFormSubmit($event)"
        (formChange)="onFormChange($event)">
      </twinleaf-form>

      <div *ngIf="errorMessage" class="error-message" [@errorShake]>
        {{ errorMessage }}
      </div>

      <div *ngIf="invalidName" class="error-message" [@errorShake]>
        {{ invalidName }}
      </div>

      <div class="register-note">
        {{ 'REGISTER_NOTE' | translate }}
      </div>

      <!-- <div class="links">
        <a (click)="goToLogin()">{{ 'LOGIN_BACK_TO_LOGIN' | translate }}</a>
      </div> -->
    </div>
  </ng-container>
</div>